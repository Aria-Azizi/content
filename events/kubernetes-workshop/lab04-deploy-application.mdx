---
title: Lab 4 - Deploy application
date: 2024-03-29
subtitle: Kubernetes Dive-in Workshop
subtitlePath: ../kubernetes-workshop
tags: ["k8s", "kubernetes", "workshop"]
---

In this lab, we will deploy the application we built in the previous lab 
to the Kubernetes cluster. We will create a deployment and a service
for the application. 

## Objectives
1. Create a deployment for the frontend application
2. Create a deployment for the backend application
3. Create a service for the frontend application
4. Create a service for the backend application

## Steps
### Create a deployment for the frontend application
We use the following command to create a template for the deployment manifest
```bash
kubectl create deployment frontend --image=frontend:latest \
  --dry-run=client -o yaml > frontend-deployment.yaml
```
We apply our changes to the deployment manifest file and apply 
the deployment to the cluster.
```bash
kubectl apply -f frontend-deployment.yaml
```

### Create a NodePort service for the frontend application

We use the following command to create a template for the service manifest
```bash
kubectl expose deployment frontend --port 3000 --type NodePort \
  --dry-run=client -o yaml > frontend-service.yaml
```

We apply our changes to the service manifest file and apply
the service to the cluster.
```bash
kubectl apply -f frontend-service.yaml
```

### Create a deployment for the backend application
We follow the same steps as we did for the frontend application 
to create a deployment for the backend application.

### Create a ClusterIP service for the backend application
We follow the same steps as we did for the frontend application.
